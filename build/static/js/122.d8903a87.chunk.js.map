{"version":3,"file":"static/js/122.d8903a87.chunk.js","mappings":"oMAKA,MAmYA,EAnYgBA,KAAO,IAADC,EAAAC,EAClB,MAAM,KAAEC,EAAI,YAAEC,EAAW,OAAEC,IAAWC,EAAAA,EAAAA,KAChCC,GAAWC,EAAAA,EAAAA,OACVC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAASC,IAAcF,EAAAA,EAAAA,UAAS,KAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,IAC7BK,GAAeC,EAAAA,EAAAA,QAAO,OAGrBC,EAAcC,IAAmBR,EAAAA,EAAAA,UAAS,KAC1CS,EAAgBC,IAAqBV,EAAAA,EAAAA,UAAS,KAC9CW,EAAeC,IAAoBZ,EAAAA,EAAAA,UAAS,KAC5Ca,EAAiBC,IAAsBd,EAAAA,EAAAA,UAAS,KAChDe,EAAkBC,IAAuBhB,EAAAA,EAAAA,WAAS,IAGlDiB,EAAmBC,IAAwBlB,EAAAA,EAAAA,WAAS,IACpDmB,EAAeC,IAAoBpB,EAAAA,EAAAA,WAAS,IAC5CqB,EAAaC,IAAkBtB,EAAAA,EAAAA,UAAS,KAExCuB,EAAUC,IAAexB,EAAAA,EAAAA,UAAS,CACrCyB,UAAW,GACXC,SAAU,MAGPC,EAAcC,IAAmB5B,EAAAA,EAAAA,UAAS,CAC7C6B,gBAAiB,GACjBC,YAAa,GACbC,gBAAiB,MAGrBC,EAAAA,EAAAA,WAAU,KACFxC,GACAgC,EAAY,CACRC,UAAWjC,EAAKiC,WAAa,GAC7BC,SAAUlC,EAAKkC,UAAY,MAGpC,CAAClC,IAEJ,MAAMyC,EAAuBC,IACzB,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAC1Bb,EAAac,IAAI,IAAWA,EAAM,CAACH,GAAOC,MAGxCG,EAAwBL,IAC1B,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAC1BT,EAAiBU,IAAI,IAAWA,EAAM,CAACH,GAAOC,MAwHlD,OAAK5C,GAMDgD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,UACxBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,kBAGRF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OACIC,UAAU,uBACVG,MAAO,CAAEC,OAAQ,UAAWC,SAAU,YACtCC,QA9GOC,KAAO,IAADC,EACT,QAApBA,EAAA5C,EAAa6C,eAAO,IAAAD,GAApBA,EAAsBE,SA8GNC,MAAM,kCAAiCV,SAAA,CAEtClD,EAAK6D,gBACFV,EAAAA,EAAAA,KAAA,OACIW,IAAK9D,EAAK6D,eACVE,IAAI,UACJX,MAAO,CAAEY,MAAO,OAAQC,OAAQ,OAAQC,aAAc,MAAOC,UAAW,YAG5EnB,EAAAA,EAAAA,MAAAoB,EAAAA,SAAA,CAAAlB,SAAA,CACmB,QADnBpD,EACKE,EAAKiC,iBAAS,IAAAnC,OAAA,EAAdA,EAAgBuE,OAAO,GAAiB,QAAftE,EAAEC,EAAKkC,gBAAQ,IAAAnC,OAAA,EAAbA,EAAesE,OAAO,MAGzD9C,IACG4B,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CACRE,SAAU,WACVgB,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,WAAY,kBACZR,aAAc,MACdS,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,MAAO,QACPC,SAAU,WACZ7B,SAAC,qBAKXC,EAAAA,EAAAA,KAAA,SACI6B,KAAK,OACLC,IAAKpE,EACLqE,SA9IQC,UAAc,IAADC,EACrC,MAAMC,EAAqB,QAAjBD,EAAG1C,EAAEG,OAAOyC,aAAK,IAAAF,OAAA,EAAdA,EAAiB,GAC9B,GAAKC,EAAL,CAEA7D,GAAoB,GACpB,UACU+D,EAAAA,GAAcC,qBAAqBxF,EAAKyF,GAAIJ,SAC5CpF,IACNiB,EAAkB,4BAClBwE,WAAW,IAAMxE,EAAkB,IAAK,IAC5C,CAAE,MAAOyE,GAAM,IAADC,EAAAC,EACV7E,GAA4B,QAAZ4E,EAAAD,EAAIG,gBAAQ,IAAAF,GAAM,QAANC,EAAZD,EAAcG,YAAI,IAAAF,OAAN,EAAZA,EAAoBG,UAAW,2BACnD,CAAC,QACGxE,GAAoB,GAChBX,EAAa6C,UACb7C,EAAa6C,QAAQd,MAAQ,GAErC,CAfiB,GA6IDqD,OAAO,UACP7C,MAAO,CAAEuB,QAAS,WAEtB3B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAKlD,EAAKiC,UAAU,IAAEjC,EAAKkC,aAC3BiB,EAAAA,EAAAA,KAAA,KAAAD,SAAIlD,EAAKkG,SACT/C,EAAAA,EAAAA,KAAA,QAAMF,UAAU,QAAOC,SAAElD,EAAKmG,cAKpCxF,GAASF,KACP0C,EAAAA,EAAAA,KAAA,OAAKF,UAAWtC,EAAQ,gBAAkB,kBAAkBuC,SACvDvC,GAASF,KAIlBuC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,iBAGHnC,IAAgBoC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAEnC,IAChDE,IAAkBkC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,SAAEjC,KAErD+B,EAAAA,EAAAA,MAAA,QAAMoD,SAlMMjB,UACxBzC,EAAE2D,iBACF9F,GAAW,GACXS,EAAgB,IAChBE,EAAkB,IAElB,UACUoF,EAAAA,GAAYC,cAAc,CAC5BtE,UAAWF,EAASE,UACpBC,SAAUH,EAASG,iBAGjBjC,IACNiB,EAAkB,iCAClBwE,WAAW,IAAMxE,EAAkB,IAAK,IAC5C,CAAE,MAAOyE,GAAM,IAADa,EAAAC,EACVzF,GAA4B,QAAZwF,EAAAb,EAAIG,gBAAQ,IAAAU,GAAM,QAANC,EAAZD,EAAcT,YAAI,IAAAU,OAAN,EAAZA,EAAoBT,UAAW,2BACnD,CAAC,QACGzF,GAAW,EACf,GA+KiD0C,UAAU,eAAcC,SAAA,EACzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACrBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOuD,QAAQ,YAAWxD,SAAC,gBAC3BC,EAAAA,EAAAA,KAAA,SACI6B,KAAK,OACLS,GAAG,YACH9C,KAAK,YACLC,MAAOb,EAASE,UAChBiD,SAAUzC,EACVkE,UAAQ,QAGhB3D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOuD,QAAQ,WAAUxD,SAAC,eAC1BC,EAAAA,EAAAA,KAAA,SACI6B,KAAK,OACLS,GAAG,WACH9C,KAAK,WACLC,MAAOb,EAASG,SAChBgD,SAAUzC,EACVkE,UAAQ,WAKpB3D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,mBACPC,EAAAA,EAAAA,KAAA,SACI6B,KAAK,QACLpC,MAAO5C,EAAKkG,OAAS,GACrBU,UAAQ,EACR3D,UAAU,cAEdE,EAAAA,EAAAA,KAAA,SAAAD,SAAO,gCAGXC,EAAAA,EAAAA,KAAA,UAAQ6B,KAAK,SAAS/B,UAAU,kBAAkB2D,SAAUtG,EAAQ4C,SAC/D5C,EAAU,YAAc,wBAKrC0C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,oBAGH/B,IAAiBgC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAE/B,IACjDE,IAAmB8B,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,SAAE7B,KAEtD2B,EAAAA,EAAAA,MAAA,QAAMoD,SAxKOjB,UAOzB,GANAzC,EAAE2D,iBACF9F,GAAW,GACXa,EAAiB,IACjBE,EAAmB,IAGfa,EAAaG,cAAgBH,EAAaI,gBAG1C,OAFAnB,EAAiB,mCACjBb,GAAW,GAKf,MAAMsG,GA3BgBC,EA2BmB3E,EAAaG,aA1BzCyE,OAAS,EACX,yCAEPD,EAASC,OAAS,GACX,yCAEN,iCAAiCC,KAAKF,GAGpC,KAFI,yDARWA,MA4BtB,GAAID,EAGA,OAFAzF,EAAiByF,QACjBtG,GAAW,GAIf,UACU+F,EAAAA,GAAYW,eAAe,CAC7B5E,gBAAiBF,EAAaE,gBAC9BC,YAAaH,EAAaG,cAG9BhB,EAAmB,kCACnBc,EAAgB,CACZC,gBAAiB,GACjBC,YAAa,GACbC,gBAAiB,KAErBmD,WAAW,IAAMpE,EAAmB,IAAK,IAC7C,CAAE,MAAOqE,GAAM,IAADuB,EAAAC,EACV/F,GAA6B,QAAZ8F,EAAAvB,EAAIG,gBAAQ,IAAAoB,GAAM,QAANC,EAAZD,EAAcnB,YAAI,IAAAoB,OAAN,EAAZA,EAAoBnB,UAAW,4BACpD,CAAC,QACGzF,GAAW,EACf,GAkIkD0C,UAAU,eAAcC,SAAA,EAC1DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOuD,QAAQ,kBAAiBxD,SAAC,sBACjCC,EAAAA,EAAAA,KAAA,SACI6B,KAAK,WACLS,GAAG,kBACH9C,KAAK,kBACLC,MAAOT,EAAaE,gBACpB6C,SAAUnC,EACV4D,UAAQ,EACRS,YAAY,+BAIpBpE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOuD,QAAQ,cAAaxD,SAAC,kBAC7BC,EAAAA,EAAAA,KAAA,SACI6B,KAAK,WACLS,GAAG,cACH9C,KAAK,cACLC,MAAOT,EAAaG,YACpB4C,SAAUnC,EACV4D,UAAQ,EACRS,YAAY,kDAIpBpE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOuD,QAAQ,kBAAiBxD,SAAC,0BACjCC,EAAAA,EAAAA,KAAA,SACI6B,KAAK,WACLS,GAAG,kBACH9C,KAAK,kBACLC,MAAOT,EAAaI,gBACpB2C,SAAUnC,EACV4D,UAAQ,EACRS,YAAY,6BAIpBjE,EAAAA,EAAAA,KAAA,UAAQ6B,KAAK,SAAS/B,UAAU,oBAAoB2D,SAAUtG,EAAQ4C,SACjE5C,EAAU,cAAgB,2BAMvC0C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAuBG,MAAO,CAAEiE,UAAW,gCAAiCC,WAAY,UAAWpE,SAAA,EAC9GC,EAAAA,EAAAA,KAAA,MAAIC,MAAO,CAAE0B,MAAO,uBAAwB5B,SAAC,iBAC7CC,EAAAA,EAAAA,KAAA,KAAGC,MAAO,CAAE0B,MAAO,oBAAqByC,aAAc,QAASrE,SAAC,6EAI9DzB,GAQEuB,EAAAA,EAAAA,MAAA,OAAKI,MAAO,CAAEsB,WAAY,yBAA0B8C,QAAS,OAAQtD,aAAc,OAAQhB,SAAA,EACvFC,EAAAA,EAAAA,KAAA,KAAGC,MAAO,CAAEmE,aAAc,OAAQE,WAAY,OAAQvE,SAAC,gDAGtDrB,IAAesB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAErB,KAChDmB,EAAAA,EAAAA,MAAA,OAAKI,MAAO,CAAEuB,QAAS,OAAQ+C,IAAK,UAAWxE,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,UACIF,UAAU,iBACVM,QAzQJ4B,UACxBvD,GAAiB,GACjBE,EAAe,IAEf,UACUwE,EAAAA,GAAYqB,gBAClBzH,IACAE,EAAS,IACb,CAAE,MAAOuF,GAAM,IAADiC,EAAAC,EACV/F,GAA2B,QAAZ8F,EAAAjC,EAAIG,gBAAQ,IAAA8B,GAAM,QAANC,EAAZD,EAAc7B,YAAI,IAAA8B,OAAN,EAAZA,EAAoB7B,UAAW,2BAClD,CAAC,QACGpE,GAAiB,EACrB,GA8P4BgF,SAAUjF,EAAcuB,SAEvBvB,EAAgB,cAAgB,4BAErCwB,EAAAA,EAAAA,KAAA,UACIF,UAAU,oBACVM,QAASA,KACL7B,GAAqB,GACrBI,EAAe,KAEnB8E,SAAUjF,EAAcuB,SAC3B,kBA3BTC,EAAAA,EAAAA,KAAA,UACIF,UAAU,iBACVM,QAASA,IAAM7B,GAAqB,GAAMwB,SAC7C,gCAvLjB9C,EAAS,UACF,M","sources":["pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { userService, uploadService } from \"../services/api\";\r\n\r\nconst Profile = () => {\r\n    const { user, refreshUser, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const fileInputRef = useRef(null);\r\n\r\n    // Separate states for each form\r\n    const [profileError, setProfileError] = useState(\"\");\r\n    const [profileSuccess, setProfileSuccess] = useState(\"\");\r\n    const [passwordError, setPasswordError] = useState(\"\");\r\n    const [passwordSuccess, setPasswordSuccess] = useState(\"\");\r\n    const [uploadingPicture, setUploadingPicture] = useState(false);\r\n\r\n    // Delete account modal state\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [deleteLoading, setDeleteLoading] = useState(false);\r\n    const [deleteError, setDeleteError] = useState(\"\");\r\n\r\n    const [formData, setFormData] = useState({\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n    });\r\n\r\n    const [passwordData, setPasswordData] = useState({\r\n        currentPassword: \"\",\r\n        newPassword: \"\",\r\n        confirmPassword: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            setFormData({\r\n                firstName: user.firstName || \"\",\r\n                lastName: user.lastName || \"\",\r\n            });\r\n        }\r\n    }, [user]);\r\n\r\n    const handleProfileChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPasswordData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleProfileSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setProfileError(\"\");\r\n        setProfileSuccess(\"\");\r\n\r\n        try {\r\n            await userService.updateProfile({\r\n                firstName: formData.firstName,\r\n                lastName: formData.lastName,\r\n            });\r\n\r\n            await refreshUser();\r\n            setProfileSuccess(\"Profile updated successfully!\");\r\n            setTimeout(() => setProfileSuccess(\"\"), 3000);\r\n        } catch (err) {\r\n            setProfileError(err.response?.data?.message || \"Failed to update profile\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Profile picture upload handler\r\n    const handlePictureClick = () => {\r\n        fileInputRef.current?.click();\r\n    };\r\n\r\n    const handlePictureChange = async (e) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        setUploadingPicture(true);\r\n        try {\r\n            await uploadService.uploadProfilePicture(user.id, file);\r\n            await refreshUser();\r\n            setProfileSuccess(\"Profile picture updated!\");\r\n            setTimeout(() => setProfileSuccess(\"\"), 3000);\r\n        } catch (err) {\r\n            setProfileError(err.response?.data?.message || \"Failed to upload picture\");\r\n        } finally {\r\n            setUploadingPicture(false);\r\n            if (fileInputRef.current) {\r\n                fileInputRef.current.value = \"\";\r\n            }\r\n        }\r\n    };\r\n\r\n    // Delete account handler\r\n    const handleDeleteAccount = async () => {\r\n        setDeleteLoading(true);\r\n        setDeleteError(\"\");\r\n\r\n        try {\r\n            await userService.deleteAccount();\r\n            logout();\r\n            navigate(\"/\");\r\n        } catch (err) {\r\n            setDeleteError(err.response?.data?.message || \"Failed to delete account\");\r\n        } finally {\r\n            setDeleteLoading(false);\r\n        }\r\n    };\r\n\r\n    const validatePassword = (password) => {\r\n        if (password.length < 8) {\r\n            return \"Password must be at least 8 characters\";\r\n        }\r\n        if (password.length > 32) {\r\n            return \"Password must not exceed 32 characters\";\r\n        }\r\n        if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(password)) {\r\n            return \"Password must contain uppercase, lowercase, and number\";\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const handlePasswordSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setPasswordError(\"\");\r\n        setPasswordSuccess(\"\");\r\n\r\n        // Validate passwords match\r\n        if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n            setPasswordError(\"New passwords do not match\");\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        // Validate password strength\r\n        const validationError = validatePassword(passwordData.newPassword);\r\n        if (validationError) {\r\n            setPasswordError(validationError);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await userService.changePassword({\r\n                currentPassword: passwordData.currentPassword,\r\n                newPassword: passwordData.newPassword,\r\n            });\r\n\r\n            setPasswordSuccess(\"Password changed successfully!\");\r\n            setPasswordData({\r\n                currentPassword: \"\",\r\n                newPassword: \"\",\r\n                confirmPassword: \"\",\r\n            });\r\n            setTimeout(() => setPasswordSuccess(\"\"), 3000);\r\n        } catch (err) {\r\n            setPasswordError(err.response?.data?.message || \"Failed to change password\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!user) {\r\n        navigate(\"/login\");\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"profile-page\">\r\n            <div className=\"page-header\">\r\n                <h1>My Profile</h1>\r\n            </div>\r\n\r\n            <div className=\"profile-card\">\r\n                <div className=\"profile-header\">\r\n                    <div\r\n                        className=\"profile-avatar-large\"\r\n                        style={{ cursor: 'pointer', position: 'relative' }}\r\n                        onClick={handlePictureClick}\r\n                        title=\"Click to change profile picture\"\r\n                    >\r\n                        {user.profilePicture ? (\r\n                            <img\r\n                                src={user.profilePicture}\r\n                                alt=\"Profile\"\r\n                                style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }}\r\n                            />\r\n                        ) : (\r\n                            <>\r\n                                {user.firstName?.charAt(0)}{user.lastName?.charAt(0)}\r\n                            </>\r\n                        )}\r\n                        {uploadingPicture && (\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: 0,\r\n                                left: 0,\r\n                                right: 0,\r\n                                bottom: 0,\r\n                                background: 'rgba(0,0,0,0.5)',\r\n                                borderRadius: '50%',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                color: 'white',\r\n                                fontSize: '0.75rem'\r\n                            }}>\r\n                                Uploading...\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <input\r\n                        type=\"file\"\r\n                        ref={fileInputRef}\r\n                        onChange={handlePictureChange}\r\n                        accept=\"image/*\"\r\n                        style={{ display: 'none' }}\r\n                    />\r\n                    <div className=\"profile-details\">\r\n                        <h2>{user.firstName} {user.lastName}</h2>\r\n                        <p>{user.email}</p>\r\n                        <span className=\"badge\">{user.role}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Global error/success for general messages */}\r\n                {(error || success) && (\r\n                    <div className={error ? \"error-message\" : \"success-message\"}>\r\n                        {error || success}\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"profile-form-section\">\r\n                    <h3>Edit Profile</h3>\r\n\r\n                    {/* Profile form errors/success */}\r\n                    {profileError && <div className=\"error-message\">{profileError}</div>}\r\n                    {profileSuccess && <div className=\"success-message\">{profileSuccess}</div>}\r\n\r\n                    <form onSubmit={handleProfileSubmit} className=\"profile-form\">\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"firstName\">First Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"firstName\"\r\n                                    name=\"firstName\"\r\n                                    value={formData.firstName}\r\n                                    onChange={handleProfileChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"lastName\">Last Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"lastName\"\r\n                                    name=\"lastName\"\r\n                                    value={formData.lastName}\r\n                                    onChange={handleProfileChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Email Address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                value={user.email || \"\"}\r\n                                disabled\r\n                                className=\"disabled\"\r\n                            />\r\n                            <small>Email cannot be changed</small>\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n                            {loading ? 'Saving...' : 'Save Changes'}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"profile-form-section\">\r\n                    <h3>Change Password</h3>\r\n\r\n                    {/* Password form errors/success - shows right above the password form */}\r\n                    {passwordError && <div className=\"error-message\">{passwordError}</div>}\r\n                    {passwordSuccess && <div className=\"success-message\">{passwordSuccess}</div>}\r\n\r\n                    <form onSubmit={handlePasswordSubmit} className=\"profile-form\">\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"currentPassword\">Current Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"currentPassword\"\r\n                                name=\"currentPassword\"\r\n                                value={passwordData.currentPassword}\r\n                                onChange={handlePasswordChange}\r\n                                required\r\n                                placeholder=\"Enter current password\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"newPassword\">New Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"newPassword\"\r\n                                name=\"newPassword\"\r\n                                value={passwordData.newPassword}\r\n                                onChange={handlePasswordChange}\r\n                                required\r\n                                placeholder=\"Min 8 chars, uppercase, lowercase, number\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"confirmPassword\">Confirm New Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"confirmPassword\"\r\n                                name=\"confirmPassword\"\r\n                                value={passwordData.confirmPassword}\r\n                                onChange={handlePasswordChange}\r\n                                required\r\n                                placeholder=\"Confirm new password\"\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn btn-secondary\" disabled={loading}>\r\n                            {loading ? 'Changing...' : 'Change Password'}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* Delete Account Section */}\r\n                <div className=\"profile-form-section\" style={{ borderTop: '1px solid var(--border-color)', paddingTop: '1.5rem' }}>\r\n                    <h3 style={{ color: 'var(--danger-color)' }}>Danger Zone</h3>\r\n                    <p style={{ color: 'var(--gray-color)', marginBottom: '1rem' }}>\r\n                        Once you delete your account, there is no going back. Please be certain.\r\n                    </p>\r\n\r\n                    {!showDeleteConfirm ? (\r\n                        <button\r\n                            className=\"btn btn-danger\"\r\n                            onClick={() => setShowDeleteConfirm(true)}\r\n                        >\r\n                            Delete My Account\r\n                        </button>\r\n                    ) : (\r\n                        <div style={{ background: 'rgba(220, 53, 69, 0.1)', padding: '1rem', borderRadius: '8px' }}>\r\n                            <p style={{ marginBottom: '1rem', fontWeight: '500' }}>\r\n                                Are you sure? This action cannot be undone.\r\n                            </p>\r\n                            {deleteError && <div className=\"error-message\">{deleteError}</div>}\r\n                            <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                                <button\r\n                                    className=\"btn btn-danger\"\r\n                                    onClick={handleDeleteAccount}\r\n                                    disabled={deleteLoading}\r\n                                >\r\n                                    {deleteLoading ? 'Deleting...' : 'Yes, Delete My Account'}\r\n                                </button>\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => {\r\n                                        setShowDeleteConfirm(false);\r\n                                        setDeleteError(\"\");\r\n                                    }}\r\n                                    disabled={deleteLoading}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"names":["Profile","_user$firstName","_user$lastName","user","refreshUser","logout","useAuth","navigate","useNavigate","loading","setLoading","useState","success","setSuccess","error","setError","fileInputRef","useRef","profileError","setProfileError","profileSuccess","setProfileSuccess","passwordError","setPasswordError","passwordSuccess","setPasswordSuccess","uploadingPicture","setUploadingPicture","showDeleteConfirm","setShowDeleteConfirm","deleteLoading","setDeleteLoading","deleteError","setDeleteError","formData","setFormData","firstName","lastName","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","useEffect","handleProfileChange","e","name","value","target","prev","handlePasswordChange","_jsxs","className","children","_jsx","style","cursor","position","onClick","handlePictureClick","_fileInputRef$current","current","click","title","profilePicture","src","alt","width","height","borderRadius","objectFit","_Fragment","charAt","top","left","right","bottom","background","display","alignItems","justifyContent","color","fontSize","type","ref","onChange","async","_e$target$files","file","files","uploadService","uploadProfilePicture","id","setTimeout","err","_err$response2","_err$response2$data","response","data","message","accept","email","role","onSubmit","preventDefault","userService","updateProfile","_err$response","_err$response$data","htmlFor","required","disabled","validationError","password","length","test","changePassword","_err$response4","_err$response4$data","placeholder","borderTop","paddingTop","marginBottom","padding","fontWeight","gap","deleteAccount","_err$response3","_err$response3$data"],"sourceRoot":""}