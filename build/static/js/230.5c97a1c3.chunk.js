"use strict";(self.webpackChunkmushaf_platform_fe=self.webpackChunkmushaf_platform_fe||[]).push([[230],{230:(e,a,r)=>{r.r(a),r.d(a,{default:()=>d});var t=r(43),s=r(216),n=r(475),i=r(621),o=r(729),l=r(579);const d=()=>{const{pageNumber:e}=(0,s.g)(),{user:a}=(0,o.A)(),[r,d]=(0,t.useState)(null),[c,m]=(0,t.useState)(!0),[u,h]=(0,t.useState)([]),[p,b]=(0,t.useState)(1);(0,t.useEffect)(()=>{g()},[e]),(0,t.useEffect)(()=>{a&&x()},[a]);const g=async()=>{try{const a=await i.r8.getPageByNumber(e);d(a.data)}catch(a){console.error("Error:",a)}finally{m(!1)}},x=async()=>{try{const e=await i.Yb.getBookmarkedPageNumbers();h(e.data.pageNumbers||[])}catch(e){console.error("Error fetching bookmarked page numbers:",e)}};if(c)return(0,l.jsx)("div",{className:"loader-container",children:(0,l.jsx)("div",{className:"loader"})});if(!r)return(0,l.jsxs)("div",{className:"home-container",children:[(0,l.jsx)(n.N_,{to:"/",className:"btn btn-outline-primary",style:{marginBottom:"1rem"},children:"\u2190 Back to Navigation"}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("h2",{children:"Page Not Found"}),(0,l.jsxs)("p",{children:["Page ",e," does not exist."]})]})]});const y=u.includes(parseInt(e));return(0,l.jsxs)("div",{className:"home-container",children:[(0,l.jsxs)("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)(n.N_,{to:"/",className:"btn btn-outline-primary",children:"\u2190 Back to Navigation"}),(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,l.jsx)("button",{onClick:()=>{e>1&&(window.location.href="/page/"+(parseInt(e)-1))},className:"btn btn-outline-primary",disabled:e<=1,children:"\u2190 Previous"}),(0,l.jsx)("input",{type:"number",value:e,onChange:e=>window.location.href=`/page/${e.target.value}`,style:{width:"80px",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},min:"1",max:"1027"}),(0,l.jsx)("button",{onClick:()=>{e<1027&&(window.location.href=`/page/${parseInt(e)+1}`)},className:"btn btn-outline-primary",disabled:e>=1027,children:"Next \u2192"})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,l.jsx)("button",{onClick:()=>b(e=>Math.max(e-.5,.5)),className:"btn btn-outline-primary",children:"-"}),(0,l.jsx)("button",{onClick:()=>b(1),className:"btn btn-outline-primary",children:"100%"}),(0,l.jsx)("button",{onClick:()=>b(e=>Math.min(e+.5,3)),className:"btn btn-outline-primary",children:"+"})]})]}),(0,l.jsxs)("div",{className:"card",style:{marginBottom:"1rem",textAlign:"center"},children:[(0,l.jsxs)("h2",{children:["Quran Aziz - Page ",r.pageNumber]}),r.juzNumber&&(0,l.jsxs)("p",{children:["Juz ",r.juzNumber]}),r.surahNumberStart&&(0,l.jsxs)("p",{children:["Surah ",r.surahNumberStart," starts here"]})]}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"auto",maxHeight:"80vh",border:"1px solid #ddd",borderRadius:"8px"},children:r.imageUrl?(0,l.jsx)("img",{src:r.imageUrl,alt:`Quran Aziz Page ${r.pageNumber}`,style:{width:"auto",height:"auto",maxWidth:"100%",maxHeight:"80vh",transform:`scale(${p})`,transformOrigin:"center center",transition:"transform 0.2s ease"}}):(0,l.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"#666"},children:"Image not available for this page"})}),(0,l.jsx)("div",{style:{marginTop:"1rem",textAlign:"center"},children:(0,l.jsx)("button",{onClick:()=>(async e=>{try{await i.Yb.createBookmark(e),alert("Bookmark added!"),h([...u,e])}catch(t){var a,r;409===(null===(a=t.response)||void 0===a?void 0:a.status)?alert("This page is already bookmarked!"):401===(null===(r=t.response)||void 0===r?void 0:r.status)?alert("Please login to add bookmarks"):alert("Failed to add bookmark")}})(parseInt(e)),className:y?"btn":"btn btn-outline-primary",style:{padding:"0.5rem 1rem",backgroundColor:y?"var(--primary-color)":"transparent",color:y?"white":"var(--primary-color)",border:y?"none":"1px solid var(--primary-color)"},children:y?"\ud83d\udd16 Bookmarked":"\ud83d\udcd1 Bookmark Page"})})]})}}}]);
//# sourceMappingURL=230.5c97a1c3.chunk.js.map