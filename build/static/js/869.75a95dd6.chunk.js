"use strict";(self.webpackChunkmushaf_platform_fe=self.webpackChunkmushaf_platform_fe||[]).push([[869],{869:(s,e,a)=>{a.r(e),a.d(e,{default:()=>i});var r=a(43),n=a(475),d=a(216),o=a(621),t=a(579);const i=()=>{const[s]=(0,n.ok)(),e=(0,d.Zp)(),[a,i]=(0,r.useState)({newPassword:"",confirmPassword:""}),[l,c]=(0,r.useState)(!1),[w,h]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),p=s.get("token");(0,r.useEffect)(()=>{p||h("Invalid reset link. Please request a new password reset.")},[p]);const f=s=>{const{name:e,value:a}=s.target;i(s=>({...s,[e]:a}))};return p?(0,t.jsx)("div",{className:"auth-container",children:(0,t.jsxs)("div",{className:"auth-card",children:[(0,t.jsx)("h2",{children:"Reset Password"}),(0,t.jsx)("p",{children:"Enter your new password below"}),w&&(0,t.jsx)("div",{className:"error-message",children:w}),m&&(0,t.jsx)("div",{className:"success-message",children:m}),(0,t.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),a.newPassword===a.confirmPassword)if(a.newPassword.length<4)h("Password must be at least 4 characters long");else try{c(!0),h(""),await o.y1.resetPassword(p,a.newPassword),u("Password reset successfully! Redirecting to login..."),setTimeout(()=>{e("/login")},2e3)}catch(d){var r,n;h((null===(r=d.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to reset password")}finally{c(!1)}else h("Passwords do not match")},children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,t.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:a.newPassword,onChange:f,required:!0,disabled:l,placeholder:"Enter new password"})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:f,required:!0,disabled:l,placeholder:"Confirm new password"})]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:l,style:{width:"100%"},children:l?"Resetting...":"Reset Password"})]})]})}):(0,t.jsx)("div",{className:"auth-container",children:(0,t.jsxs)("div",{className:"auth-card",children:[(0,t.jsx)("h2",{children:"Invalid Reset Link"}),(0,t.jsx)("p",{children:"This password reset link is invalid or has expired."}),(0,t.jsx)("button",{onClick:()=>e("/login"),className:"btn btn-primary",children:"Back to Login"})]})})}}}]);
//# sourceMappingURL=869.75a95dd6.chunk.js.map