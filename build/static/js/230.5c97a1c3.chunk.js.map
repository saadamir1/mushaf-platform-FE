{"version":3,"file":"static/js/230.5c97a1c3.chunk.js","mappings":"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","sources":["pages/PageViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { quranService, bookmarkService } from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst PageViewer = () => {\r\n    const { pageNumber } = useParams();\r\n    const { user } = useAuth();\r\n    const [page, setPage] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [bookmarkedPageNumbers, setBookmarkedPageNumbers] = useState([]);\r\n    const [zoomLevel, setZoomLevel] = useState(1);\r\n\r\n    useEffect(() => {\r\n        fetchPageData();\r\n    }, [pageNumber]);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            fetchBookmarkedPageNumbers();\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchPageData = async () => {\r\n        try {\r\n            const response = await quranService.getPageByNumber(pageNumber);\r\n            setPage(response.data);\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchBookmarkedPageNumbers = async () => {\r\n        try {\r\n            const response = await bookmarkService.getBookmarkedPageNumbers();\r\n            setBookmarkedPageNumbers(response.data.pageNumbers || []);\r\n        } catch (error) {\r\n            console.error('Error fetching bookmarked page numbers:', error);\r\n        }\r\n    };\r\n\r\n    const handleBookmark = async (pageNum) => {\r\n        try {\r\n            await bookmarkService.createBookmark(pageNum);\r\n            alert('Bookmark added!');\r\n            setBookmarkedPageNumbers([...bookmarkedPageNumbers, pageNum]);\r\n        } catch (error) {\r\n            if (error.response?.status === 409) {\r\n                alert('This page is already bookmarked!');\r\n            } else if (error.response?.status === 401) {\r\n                alert('Please login to add bookmarks');\r\n            } else {\r\n                alert('Failed to add bookmark');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleZoomIn = () => setZoomLevel(prev => Math.min(prev + 0.5, 3));\r\n    const handleZoomOut = () => setZoomLevel(prev => Math.max(prev - 0.5, 0.5));\r\n    const handleResetZoom = () => setZoomLevel(1);\r\n\r\n    const handlePrevPage = () => {\r\n        if (pageNumber > 1) {\r\n            window.location.href = `/page/${parseInt(pageNumber) - 1}`;\r\n        }\r\n    };\r\n\r\n    const handleNextPage = () => {\r\n        if (pageNumber < 1027) {\r\n            window.location.href = `/page/${parseInt(pageNumber) + 1}`;\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"loader-container\"><div className=\"loader\"></div></div>;\r\n\r\n    if (!page) {\r\n        return (\r\n            <div className=\"home-container\">\r\n                <Link to=\"/\" className=\"btn btn-outline-primary\" style={{ marginBottom: '1rem' }}>‚Üê Back to Navigation</Link>\r\n                <div className=\"card\">\r\n                    <h2>Page Not Found</h2>\r\n                    <p>Page {pageNumber} does not exist.</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const isBookmarked = bookmarkedPageNumbers.includes(parseInt(pageNumber));\r\n\r\n    return (\r\n        <div className=\"home-container\">\r\n            <div style={{ marginBottom: '1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <Link to=\"/\" className=\"btn btn-outline-primary\">‚Üê Back to Navigation</Link>\r\n\r\n                <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                    <button onClick={handlePrevPage} className=\"btn btn-outline-primary\" disabled={pageNumber <= 1}>\r\n                        ‚Üê Previous\r\n                    </button>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={pageNumber}\r\n                        onChange={(e) => window.location.href = `/page/${e.target.value}`}\r\n                        style={{ width: '80px', padding: '0.5rem', borderRadius: '4px', border: '1px solid #ddd' }}\r\n                        min=\"1\"\r\n                        max=\"1027\"\r\n                    />\r\n                    <button onClick={handleNextPage} className=\"btn btn-outline-primary\" disabled={pageNumber >= 1027}>\r\n                        Next ‚Üí\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                    <button onClick={handleZoomOut} className=\"btn btn-outline-primary\">-</button>\r\n                    <button onClick={handleResetZoom} className=\"btn btn-outline-primary\">100%</button>\r\n                    <button onClick={handleZoomIn} className=\"btn btn-outline-primary\">+</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"card\" style={{ marginBottom: '1rem', textAlign: 'center' }}>\r\n                <h2>Quran Aziz - Page {page.pageNumber}</h2>\r\n                {page.juzNumber && <p>Juz {page.juzNumber}</p>}\r\n                {page.surahNumberStart && <p>Surah {page.surahNumberStart} starts here</p>}\r\n            </div>\r\n\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                overflow: 'auto',\r\n                maxHeight: '80vh',\r\n                border: '1px solid #ddd',\r\n                borderRadius: '8px'\r\n            }}>\r\n                {page.imageUrl ? (\r\n                    <img\r\n                        src={page.imageUrl}\r\n                        alt={`Quran Aziz Page ${page.pageNumber}`}\r\n                        style={{\r\n                            width: 'auto',\r\n                            height: 'auto',\r\n                            maxWidth: '100%',\r\n                            maxHeight: '80vh',\r\n                            transform: `scale(${zoomLevel})`,\r\n                            transformOrigin: 'center center',\r\n                            transition: 'transform 0.2s ease'\r\n                        }}\r\n                    />\r\n                ) : (\r\n                    <div style={{ padding: '2rem', textAlign: 'center', color: '#666' }}>\r\n                        Image not available for this page\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div style={{ marginTop: '1rem', textAlign: 'center' }}>\r\n                <button\r\n                    onClick={() => handleBookmark(parseInt(pageNumber))}\r\n                    className={isBookmarked ? \"btn\" : \"btn btn-outline-primary\"}\r\n                    style={{\r\n                        padding: '0.5rem 1rem',\r\n                        backgroundColor: isBookmarked ? 'var(--primary-color)' : 'transparent',\r\n                        color: isBookmarked ? 'white' : 'var(--primary-color)',\r\n                        border: isBookmarked ? 'none' : '1px solid var(--primary-color)'\r\n                    }}\r\n                >\r\n                    {isBookmarked ? 'üîñ Bookmarked' : 'üìë Bookmark Page'}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageViewer;"],"names":["PageViewer","pageNumber","useParams","user","useAuth","page","setPage","useState","loading","setLoading","bookmarkedPageNumbers","setBookmarkedPageNumbers","zoomLevel","setZoomLevel","useEffect","fetchPageData","fetchBookmarkedPageNumbers","async","response","quranService","getPageByNumber","data","error","console","bookmarkService","getBookmarkedPageNumbers","pageNumbers","_jsx","className","children","_jsxs","Link","to","style","marginBottom","isBookmarked","includes","parseInt","display","justifyContent","alignItems","gap","onClick","handlePrevPage","window","location","href","disabled","type","value","onChange","e","target","width","padding","borderRadius","border","min","max","handleNextPage","handleZoomOut","prev","Math","handleResetZoom","handleZoomIn","textAlign","juzNumber","surahNumberStart","overflow","maxHeight","imageUrl","src","alt","height","maxWidth","transform","transformOrigin","transition","color","marginTop","createBookmark","pageNum","alert","_error$response","_error$response2","status","handleBookmark","backgroundColor"],"sourceRoot":""}